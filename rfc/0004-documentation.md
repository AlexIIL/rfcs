# Summary

This RFC addresses an issue future RFCs may encounter regarding the creation
of specifications and protocols. For brevity, in this RFC, "specifications" will refer to file specifications,
protocols and documentation of the two.
The idea here is to create a central point where the latest editions of any protocols, specifications and
general documentation of any protocols or specifications should be located.

# Motivation

One thing many projects like Quilt have to address is the creation of protocols and file specifications. Examples of
this include the tiny file format, accesswideners and the `quilt.mod.json` specification. Some protocols which may be
documented include the registry sync protocol and the early login-stage channel registration packets in the
quilt standard library.

The motivation of this RFC is to determine how we should approach the structure and location of any specifications.
Having the documentation in a well defined place makes it obvious to anyone who needs to work to implement or read
content from any of the specifications where to look for any provided resources.

# Explanation

This RFC solves the issue by proposing all specification documents should be stored in a single repository,
clearly marking the specific topic of such a specification in the readme's file name.

To solve the issue regarding RFCs supposedly referring to out of date specifications, the top of any RFC when merged should
link to the readme containing the up to date specification in prominent text.

The organization of the documentation repository should have a `specifications` folder. Inside of that folder, a subfolder
should be created for each category, typically bordering a topic such as the file specification. Additional subfolders may be used at your discretion.
For example, the specification for the `tiny` v2 file format should have it's readme should be located at
`specifications/tiny/V2.md`.

Each specification should entirely placed inside of a single `.md` file. The contents of the `.md` file may vary by the
type of specification at hand but generally should contain an explanation of the specification's purpose and
implementation requirements. A sample of the specification, file grammar, the definition of any types inside,
the size of types and any other details such as required ordering should be included. Not all of the above is required,
for example a specification inside of a standard file format such as JSON may only need to describe structure of the file
and file grammar would be redundant.

You are encouraged to describe file grammar in the Backusâ€“Naur form (BNF).

All specification documents may be linked to in other projects, for example `quilt-loader` may link to the
`quilt.mod.json` specification.

# Drawbacks

I don't see a real drawback to making any documentation of specifications consistently locatable.

# Rationale and Alternatives

Ideally documentation would exist explaining the structure, contents and grammar of
the files and protocols. However one issue that arises is where should this documentation be located?

The first option would be the RFC repository itself, however some specifications may need to move faster than the RFC process
which makes this option untenable. Keeping any specifications within the RFC document itself can work,
however updates to the specification may result in people referring to the outdated specification if the RFCs had to be referred
to.

Keeping the specifications in the applicable repository is another option as the usage of a specification is directly 
given to the repository where such a specification may be implemented. However an issue with that is it may not be obvious
which repository a specification may belong in. Does the specification for a tiny file belong in tiny-remapper,
[mappings name here?] or [stitch new name here?] or all 3 as tiny files are processed, read and or generated by all three?
Having a single central repository addresses this issue by not needing to argue about the ownership of a specification
and which repository it belongs to.

Of course we could not worry about this issue at all, however ignoring this may lead to specifications being all over the place
or not clearly defined what the new specification is when a RFC may refer to the old specification.

# Prior Art

I could not find any real prior art regarding this.

# Unresolved Questions

Do we need to change the template document in the RFC repo to make all RFCs regarding specifications to link to the
latest documentation for a specification in the documentation repository?

Existing RFCs such as the `quilt.mod.json` specification will need comply with this RFC if merged.

# Expected Response

How do might the wider community respond to this change? Who will be affected
by it and how? Who has advocated for this change? Who has advocated against it?


